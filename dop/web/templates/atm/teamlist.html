{% extends "shared/base.html" %}
{% load staticfiles %}
{% block head %}
    <link rel="stylesheet" href="{% static "css/main.css" %}?v={{ config.v }}">
    <link rel="stylesheet" href="{% static "css/global/form-elements.css" %}?v={{ config.v }}">
{% endblock %}
{% block container %}
    {% include "shared/headerBar.html" %}
    <div class="content-box teamListyle">
        <div class="container">
            <h3>Teams</h3>

            <p>{{ msg }}</p>

            {#projectlist?team=123#}
            <div class="edit-main team-list" ng-controller="TeamMain">
                <ul>
                    <li class="listLi" ng-repeat="List in teamArr">
                        <a href="/projectlist?team=@{List.team_id}@">
                            <p class="team-pic"><img ng-src="@{List.team_pic_url}@"/></p>

                            <p class="team-name">@{List.team_name}@</p>

                            <p class="team-ctime">创建时间：@{List.ctime}@</p>
                        </a>
                    </li>
                    <li ng-click="addTeam()" class="">添加</li>
                </ul>
                <div class="loadTips">
                    <p ng-show="isLast">下拉加载下一页....</p>

                    <p ng-hide="isLast">列表已加载完....</p>
                </div>
                <div class="dialog" ng-show="isDialogShow">
                    <div class="dialogBox addTeam">
                        <h3>Team Edit</h3>

                        <div class="addTeam-main">
                            <p><span class="dsc">TeamName</span><input class="tName" placeholder="请输入名称" type="text">
                            </p>

                            <p><span class="dsc">picUrl</span><input class="tPic" placeholder="上传图片" type="text"></p>

                            <p><span class="dsc">Description</span><textarea class="tDec"
                                                                             placeholder="请输入描述"></textarea></p>

                            <div class="addBtn">
                                <span ng-click="saveDate()" class="active">save</span>
                                <span ng-click="closeDialog()">close</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        require(['{% static "js/config.js" %}?v={{config.v}}'], function () {
            require(['controller/atm/team']);
        });
    </script>
{% endblock %}
